---
layout: post
title: restful框架
category: 收藏
tags: restful
description: 记录restful框架的知识点
---

## rest定义

REST（Representational State Transfer）表述性状态转移。

REST指的是一组架构约束条件和原则，如果一个架构符合REST的约束条件和原则，我们就称它为RESTful架构。

### 资源与URI

要让一个资源可以被识别，需要有个唯一标识，在Web中这个唯一标识就是URI(Uniform Resource Identifier)。 URI既可以看成是资源的地址，也可以看成是资源的名称。如果某些信息没有使用URI来表示，那它就不能算是一个资源， 只能算是资源的一些信息而已。

* 使用_或-来让URI可读性更好
* 使用/来表示资源的层级关系
* 使用?用来过滤资源
* ,或;可以用来表示同级资源的关系

### 统一资源接口

RESTful架构应该遵循统一接口原则，统一接口包含了一组受限的预定义的操作，不论什么样的资源，都是通过使用相同的接口进行资源的访问。

幂等是数学的一个用语，对于单个输入或者无输入的运算方法，如果每次都是同样的结果，则称其是幂等的

| 方式 | 操作 | 描述|
| ---  | ---  | ---|
|Create | POST  | 非幂等，例如访问同一个URI，更改资金余额，每次结果都不一样
|Read   | GET | 请求指定的页面信息，并返回实体主体。
|Update | PUT | 从客户端向服务器传送的数据取代指定的文档的内容，不管怎么更新，还是文档的URI
|Delete | DELETE | 请求服务器删除指定的页面。

其他不常用的有：HEAD 、CONNECT、 OPTIONS、 TRACE、 PATCH

### 资源的描述

在客户端和服务端之间传送的也是资源的表述，而不是资源本身。 例如文本资源可以采用html、xml、json等格式，图片可以使用PNG或JPG展现出来。 资源的表述包括数据和描述数据的元数据，例如，HTTP头“Content-Type” 就是这样一个元数据属性。

通过HTTP内容协商，客户端可以通过Accept头请求一种特定格式的表述，服务端则通过Content-Type告诉客户端资源的表述形式。

### 资源的链接

超媒体是什么? 当你浏览Web网页时，从一个连接跳到一个页面，再从另一个连接跳到另外一个页面，就是利用了超媒体的概念：把一个个把资源链接起来.

### 状态的转移

状态应该区分应用状态和资源状态，客户端负责维护应用状态，而服务端维护资源状态。客户端与服务端的交互必须是无状态的，并在每一次请求中包含处理该请求所需的一切信息。 服务端不需要在请求间保留应用状态，只有在接受到实际请求的时候，服务端才会关注应用状态。 这种无状态通信原则，使得服务端和中介能够理解独立的请求和响应。 在多次请求中，同一客户端也不再需要依赖于同一服务器，方便实现高可扩展和高可用性的服务端。

“会话”状态不是作为资源状态保存在服务端的，而是被客户端作为应用状态进行跟踪的。客户端应用状态在服务端提供的超媒体的指引下发生变迁。服务端通过超媒体告诉客户端当前状态有哪些后续状态可以进入。 这些类似“下一页”之类的链接起的就是这种推进状态的作用——指引你如何从当前状态进入下一个可能的状态。